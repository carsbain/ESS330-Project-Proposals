<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.5.57">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


    <title>ESS 330 Project Proposal</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
     <link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">

<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>
  
      <meta name="citation_title" content="ESS 330 Project Proposal">
<meta name="citation_author" content="Carson Bainbridge">
<meta name="citation_author" content="Kate Laidlaw">
<meta name="citation_author" content="Lance Lowell">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Spatial and temporal variability in seasonal snow density;,citation_author=Kathryn J Bormann;,citation_author=Seth Westra;,citation_author=Jason P Evans;,citation_author=Matthew F McCabe;,citation_publication_date=2013;,citation_cover_date=2013;,citation_year=2013;,citation_volume=484;,citation_journal_title=Journal of hydrology;,citation_publisher=Elsevier;">
<meta name="citation_reference" content="citation_title=Changes in snow cover and snow water equivalent due to global warming simulated by a 20km-mesh global atmospheric model;,citation_author=Masahiro Hosaka;,citation_author=Daisuke Nohara;,citation_author=Akio Kitoh;,citation_publication_date=2005;,citation_cover_date=2005;,citation_year=2005;,citation_volume=1;,citation_journal_title=Sola;,citation_publisher=Meteorological Society of Japan;">
<meta name="citation_reference" content="citation_title=Evaluation of spatial variability in snow water equivalent for a high mountain catchment;,citation_author=SP Anderton;,citation_author=SM White;,citation_author=B Alvera;,citation_publication_date=2004;,citation_cover_date=2004;,citation_year=2004;,citation_issue=3;,citation_volume=18;,citation_journal_title=Hydrological Processes;,citation_publisher=Wiley Online Library;">
</head>

  <body class="quarto-notebook">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Article Notebook</h6>

            <a href="./index.qmd" class="btn btn-primary quarto-download-embed" download="index.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">ESS 330 Project Proposal</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Carson Bainbridge </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University ESS
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Kate Laidlaw </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University ESS
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Lance Lowell </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University ESS
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#evaluating-the-correlation-between-snow-water-equivalent-and-stream-flow-in-rabbit-ears-pass-colorado" id="toc-evaluating-the-correlation-between-snow-water-equivalent-and-stream-flow-in-rabbit-ears-pass-colorado" class="nav-link active" data-scroll-target="#evaluating-the-correlation-between-snow-water-equivalent-and-stream-flow-in-rabbit-ears-pass-colorado"><strong>Evaluating the Correlation between Snow Water Equivalent and Stream Flow in Rabbit Ears Pass, Colorado</strong></a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction"><strong>Introduction</strong></a></li>
  <li><a href="#exploring-data" id="toc-exploring-data" class="nav-link" data-scroll-target="#exploring-data">Exploring data</a></li>
  <li><a href="#identifying-methods" id="toc-identifying-methods" class="nav-link" data-scroll-target="#identifying-methods">Identifying Methods</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#literature-cited" id="toc-literature-cited" class="nav-link" data-scroll-target="#literature-cited">Literature Cited:</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <section id="evaluating-the-correlation-between-snow-water-equivalent-and-stream-flow-in-rabbit-ears-pass-colorado" class="level1">
<h1><strong>Evaluating the Correlation between Snow Water Equivalent and Stream Flow in Rabbit Ears Pass, Colorado</strong></h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction"><strong>Introduction</strong></h2>
<p>Snowpack plays an important role in hydrological, ecological, and climate systems. However, this variable has been changing with a warming climate. The beginning of the accumulation season has shifted later in many regions, and total snow cover will decrease, with limited exceptions (Hosaka et al.&nbsp;2005). Snow is a very important resource. Snowpack turns into freshwater that flows downstream to many individuals (Bormann, 2013). Snow influences many climate factors across the globe. Even in areas that don’t receive much snow, they can still feel the effects. Snow has a high albedo, meaning that it is highly reflective and returns a significant amount of radiation back to space. This causes the radiation to not warm our planet as much since it is being reflected. With a decrease in the amount of snow cover over time, we are going to see a warmer climate effect. Many people also choose to recreate in snow. The effects of a changing climate on snow are going to have a direct effect on this aspect of the economy and people’s well-being. To predict and manage the impacts of climate change, it is crucial to examine snowpack variability over time and across spatial domains. Snow Water Equivalent (SWE) is a measure of depth and density that has been used to determine how much water snow contains, quantifying snowpack characteristics. SWE has been used as a measure for many snow-related analyses over time, being a secondary factor in many experiments. Understanding causes for differences in SWE over time is influential to understanding snowpack characteristics, which is a key factor in snow related research. An understanding of the spatial patterns of vanishing snowpack can be determined from snow depth at maximum accumulation (Anderton et al., 2003) and can be used to help model snow behavior.</p>
<p>The measured change in Snow Water Equivalent can be used as an indicator of the changing climate, while also predicting the seasonal stream flow for a given year. Studying the correlation between Snow Water Equivalent and stream flow allows researchers to better understand the relationship between these two variables and helps land managers better predict seasonal stream flow. Yearly stream flow is a highly monitored event in natural resource management due to its widespread influence on other natural phenomena in the spring. Too much stream flow can result in soil erosion and flooding, while too little stream flow can degrade water quality and reduce habitat availability to aquatic species (Part et. All, 2025). Additionally, management of water resources for local municipal water and agriculture is largely contingent upon seasonal stream flow. It helps plan water storage and release, as well as irrigation and hydropower levels (USDA). Developing the accuracy of stream flow predictions based off its relationship with Snow Water Equivalent would generate more effective management of water resources, leading to better maintenance of the health of natural and anthropogenic systems across the local landscape.</p>
<p>The first dataset that we are looking at was taken from the NASA Cold Land Processes Experiment. The data were obtained (downloaded) from the National Snow and Ice Data Center (NSIDC) in Boulder, Colorado. Data was sampled in 1-meter transects during two intense observation periods (IOP) over two years (four total). These measurements were taken by the NASA Cold Lands Processes Experiment (CLPX), done in 2002 and 2003. Measurements were taken in late February and late March to ensure differences in snowpack properties. Snow density was measured with a 1-liter wedge sampler. These measurements were made in 10-cm increments from snow surface to ground. In the above tree line snowpacks in Frasier Alpine and all North Park sites, snow, ice, and permafrost sampler tube were used to measure density. Density is calculated using the weight and volume of the snow sample.</p>
<p>To analyze stream flow, we will be using hydrologic data obtained from USGS National Water Information System (NWIS,) which measures hydrologic variables across approximately 1.9 million gage sites throughout the continental United States, the District of Columbia, Puerto Rico, the Virgin Islands, Guam, American Samoa and the Commonwealth of the North American Mariana Islands. We are analyzing data from stream gage number 09041090, which located in the upstream reach of Muddy Creek near Rabbit Ears pass, and has been collecting data from the period of 1990-2025.</p>
<p>We will be using Rstudio to explore both datasets (CAMELS and NASA CLPX). The CAMELS dataset includes streamflow information for different rivers across the US. This helps us to look at changing water levels over time. The NASA CLPX data includes depth and density variables, which we are using to predict SWE. Both datasets will be loaded and read into Rstudio for comparison to look at patterns between the datasets.</p>
</section>
<section id="exploring-data" class="level2">
<h2 class="anchored" data-anchor-id="exploring-data">Exploring data</h2>
<div class="cell-container"><div class="cell-decorator"><pre>In [1]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(powerjoin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'powerjoin' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'vip' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'vip'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    vi</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'purrr' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(baguette)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'baguette' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: parsnip</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'parsnip' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ stringr   1.5.1
✔ forcats   1.0.0     ✔ tibble    3.2.1
✔ ggplot2   3.5.2     ✔ tidyr     1.3.1
✔ lubridate 1.9.4     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidymodels' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────── tidymodels 1.3.0 ──
✔ broom        1.0.8     ✔ rsample      1.3.0
✔ dials        1.4.0     ✔ tune         1.3.0
✔ infer        1.0.7     ✔ workflows    1.2.0
✔ modeldata    1.4.0     ✔ workflowsets 1.1.0
✔ recipes      1.2.1     ✔ yardstick    1.3.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'broom' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dials' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'recipes' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'rsample' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tune' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'workflows' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'yardstick' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──
✖ scales::discard() masks purrr::discard()
✖ dplyr::filter()   masks stats::filter()
✖ recipes::fixed()  masks stringr::fixed()
✖ dplyr::lag()      masks stats::lag()
✖ yardstick::spec() masks readr::spec()
✖ recipes::step()   masks stats::step()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#---------Load in NASA CLPX dataset-------------</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>iop1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/pit_iop1_v2_density.csv"</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>iop3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/pit_iop3_v2_density.csv"</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">#---------Load in CAMELS dataset----------------</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>IOP 1</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [2]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'flextable'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    compose</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>filtered_iop1 <span class="ot">&lt;-</span> iop1 <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^rbsp"</span>, PIT_NAME, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PIT_NAME,DNS_AVG, TOP) <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DNS_AVG =</span> <span class="fu">as.numeric</span>(DNS_AVG),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">PIT_NAME =</span> <span class="fu">toupper</span>(PIT_NAME)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>date_seq <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"2002-02-17"</span>), </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">to =</span> <span class="fu">as.Date</span>(<span class="st">"2002-02-24"</span>), </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="st">"month"</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(filtered_iop1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         PIT_NAME DNS_AVG  TOP
1 RBSP01            102.5  214
2 RBSP01            143.5  204
3 RBSP01            142.5  194
4 RBSP01            159.5  184
5 RBSP01            228.5  174
6 RBSP01            254.5  164</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>site_tables <span class="ot">&lt;-</span> filtered_iop1 <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_split</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">map_chr</span>(., <span class="sc">~</span> <span class="fu">unique</span>(.x<span class="sc">$</span>PIT_NAME)))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(<span class="fu">head</span>(filtered_iop1, <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-1398a676{}.cl-138c4160{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-13917ed2{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-13917edc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1391a448{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1391a452{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1391a453{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1391a45c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1391a45d{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1391a466{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-1398a676"><thead><tr style="overflow-wrap:break-word;"><th class="cl-1391a448"><p class="cl-13917ed2"><span class="cl-138c4160">PIT_NAME</span></p></th><th class="cl-1391a452"><p class="cl-13917edc"><span class="cl-138c4160">DNS_AVG</span></p></th><th class="cl-1391a448"><p class="cl-13917ed2"><span class="cl-138c4160">TOP</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">102.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 214</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">143.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 204</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">142.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 194</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">159.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 184</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">228.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 174</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">254.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 164</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">284.0</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 154</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">299.5</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 144</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a45c"><p class="cl-13917edc"><span class="cl-138c4160">321.0</span></p></td><td class="cl-1391a453"><p class="cl-13917ed2"><span class="cl-138c4160"> 134</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1391a45d"><p class="cl-13917ed2"><span class="cl-138c4160">RBSP01         </span></p></td><td class="cl-1391a466"><p class="cl-13917edc"><span class="cl-138c4160">358.5</span></p></td><td class="cl-1391a45d"><p class="cl-13917ed2"><span class="cl-138c4160"> 124</span></p></td></tr></tbody></table></div>
</div>
</div></div>
<p>Table 1. Average Density and Top depth shown for measurements within each pit site in the Rabbit Ears Buffalo Pass Intense Observation Period in February 2002.</p>
<p>IOP 3</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [3]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>filtered_iop3 <span class="ot">&lt;-</span> iop3 <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">"^rbsp"</span>, PIT_NAME, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PIT_NAME,DNS_AVG, TOP) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DNS_AVG =</span> <span class="fu">as.numeric</span>(DNS_AVG),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">PIT_NAME =</span> <span class="fu">toupper</span>(PIT_NAME)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>date_seq <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"2003-02-17"</span>), </span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">to =</span> <span class="fu">as.Date</span>(<span class="st">"2003-02-25"</span>), </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="st">"month"</span>)</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>swe <span class="ot">=</span> <span class="fu">mean</span>(filtered_iop3<span class="sc">$</span>DNS_AVG, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">2.7</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>site_tables <span class="ot">&lt;-</span> filtered_iop3 <span class="sc">%&gt;%</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_split</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">map_chr</span>(., <span class="sc">~</span> <span class="fu">unique</span>(.x<span class="sc">$</span>PIT_NAME)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [4]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SWE FOR EACH PIT SITE </span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>swe_tables <span class="ot">&lt;-</span> filtered_iop1 <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">swe =</span> <span class="fu">mean</span>(DNS_AVG, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">2.7</span>)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>swe_iop1 <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span> </span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2002-02-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-02-24"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">#SWE FOR EACH PIT SITE </span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>swe_tables3 <span class="ot">&lt;-</span> filtered_iop3 <span class="sc">%&gt;%</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">swe =</span> <span class="fu">mean</span>(DNS_AVG, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">2.88</span>)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>swe_iop2 <span class="ot">&lt;-</span> swe_tables3 <span class="sc">%&gt;%</span> </span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2002-03-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-03-25"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [5]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>swe_tables <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">PIT_NAME =</span> <span class="fu">toupper</span>(<span class="fu">trimws</span>(PIT_NAME)))</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>site_tables_clean <span class="ot">&lt;-</span> <span class="fu">map</span>(site_tables, <span class="cf">function</span>(df) {</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">PIT_NAME =</span> <span class="fu">toupper</span>(<span class="fu">trimws</span>(PIT_NAME))) <span class="sc">%&gt;%</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(swe_tables, <span class="at">by =</span> <span class="st">"PIT_NAME"</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(df)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>swe_tables <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(swe_tables)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>swe_tables3 <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(swe_tables3)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="co"># IOP1</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>swe_iop1 <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span> </span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">"2002-02-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-02-24"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co"># IOP3</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>swe_iop3 <span class="ot">&lt;-</span> swe_tables3 <span class="sc">%&gt;%</span> </span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">"2002-03-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-03-25"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>The first two tables we are presenting are from IOP 1 and IOP 3 from the CLPX dataset. We rearranged the data to include only the data from Rabbit Ears Pass, Colorado. As well as filtering for density averages and top depth height. This will allow us to calculate SWE later down the line with density * depth.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [6]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'sf' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> dataRetrieval<span class="sc">::</span><span class="fu">whatNWISdata</span>(<span class="at">siteNumber =</span> <span class="st">"09041090"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>GET:https://waterservices.usgs.gov/nwis/site/?seriesCatalogOutput=true&amp;sites=09041090</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>WARNING: NWIS does not deliver
discrete water quality data newer than March 11, 2024
or updates to existing data. For additional details, see:
https://doi-usgs.github.io/dataRetrieval/articles/Status.html</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>spatial_site1 <span class="ot">&lt;-</span> x[<span class="dv">1</span>, ] <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"dec_long_va"</span>, <span class="st">"dec_lat_va"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>counties <span class="ot">&lt;-</span> AOI<span class="sc">::</span><span class="fu">aoi_get</span>(<span class="at">state =</span> <span class="st">"Colorado"</span>, <span class="at">county =</span> <span class="st">"all"</span>)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> counties, <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"gray50"</span>) <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> spatial_site1, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"USGS Muddy Creek Gage 09041090 in Rabbit Ears Pass, Colorado"</span>,) <span class="sc">+</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-6-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 1. Map of USGS Muddy Creek Gage #09041090 in Rabbit Ears Pass within Colorado.</p>
</section>
<section id="identifying-methods" class="level2">
<h2 class="anchored" data-anchor-id="identifying-methods">Identifying Methods</h2>
<p>To establish a correlation between SWE and stream flow, we first obtained the SWE data from NASA CLPX (Cold Land Processes Field Experiment,) and the stream flow data from USGS NWIS (National Water Information System,) Gage 09041090 in Muddy Creek near Rabbit Ears Pass, where the snow pits were dug to gather the SWE data. Once the stream flow data from the given gage site was downloaded into R, we filtered the date range to only Feb-April in 2002 and 2003 to match the date range of the SWE data. We then cleaned the two data sets by removing any NA’s and ensuring they were in the correct structure to accommodate the models and other analysis methods they would be fit to.</p>
<p>We began by analyzing the two variables separately to understand their individual behavior in relation to time from Feb-April. To visualize SWE, we looked at two observation periods within two years. Intense Observation period one from February 2002 and Intense Observation period three from march 2003 were used to assess changes in snow pack from a years time. We also narrowed down a location to the Rabbit Ears - Buffalo Pass area. The data were filtered to only include these points and location. A calculation was performed on depth and density to gather snow water equivalent values. We looked at gathering averages and assigning date values to the dataset to be able to join with streamflow and perfom model testing.</p>
<p>To visualize stream flow, we first mapped the location of the Muddy Creek 09041090 USGS Gage within Colorado to visualize where the site was in relation to the Rabbit Ears Pass region and determine that the two data sites were indeed of close proximity to one another. We then created a time series decomposition of the stream flow trend line from February to April to assess how the stream flow rate changed during peak snow melt season.</p>
<p>We then joined the SWE and stream flow data with the plan to run a linear regression model between the two variables to quantify their correlation; However, when that proved unsuccessful, we ran a linear model with only stream flow and analyzed the variance between actual vs predicted stream flow in attempts to understand how predicted stream flow behaves as SWE values change. From the regression, we also ran a statistical test measuring root mean squared error, r squared, and mean absolute error in the predicted stream flow outputs to establish whether the model was credible in it’s predictions.</p>
<p>To statistically assess the SWE-streamflow relationship, we developed regression models using the tidymodel workflows developed from a recipe, expanding the modeling to include polynomial and spline regressions with the potential of capturing non-linear relationships in the data. Models were trained on the cleaned dataset, and each model’s predictions were visualized alongside the measured values. Each prediction model was evaluated using root mean square error (RMSE) and R-squared (RSQ).</p>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>Streamflow (Muddy Creek USGS gauge)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [7]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dataRetrieval)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dataRetrieval' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tsibble' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 methods overwritten by 'tsibble':
  method               from 
  as_tibble.grouped_df dplyr
  format.interval      inum </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'tsibble'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lubridate':

    interval</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>streamflow_2002 <span class="ot">&lt;-</span> <span class="fu">readNWISdv</span>(<span class="at">siteNumber =</span> <span class="st">"09041090"</span>,    </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">parameterCd =</span> <span class="st">"00060"</span>,      </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">startDate =</span> <span class="st">"2002-02-01"</span>,  </span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">endDate =</span> <span class="st">"2002-03-31"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">renameNWISColumns</span>() <span class="sc">|&gt;</span>                              </span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">|&gt;</span>                                   </span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Flow =</span> <span class="fu">mean</span>(Flow))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>GET:https://waterservices.usgs.gov/nwis/dv/?site=09041090&amp;format=waterml%2C1.1&amp;ParameterCd=00060&amp;StatCd=00003&amp;startDT=2002-02-01&amp;endDT=2002-03-31</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>streamflow_2003 <span class="ot">&lt;-</span> <span class="fu">readNWISdv</span>(<span class="at">siteNumber =</span> <span class="st">"09041090"</span>,    </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">parameterCd =</span> <span class="st">"00060"</span>,      </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">startDate =</span> <span class="st">"2003-02-01"</span>,  </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">endDate =</span> <span class="st">"2003-03-31"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">renameNWISColumns</span>() <span class="sc">|&gt;</span>                              </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">|&gt;</span>                                   </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Flow =</span> <span class="fu">mean</span>(Flow)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>GET:https://waterservices.usgs.gov/nwis/dv/?site=09041090&amp;format=waterml%2C1.1&amp;ParameterCd=00060&amp;StatCd=00003&amp;startDT=2003-02-01&amp;endDT=2003-03-31</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [8]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>muddy2002_flow_tb <span class="ot">&lt;-</span> <span class="fu">as_tsibble</span>(streamflow_2002)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using `Date` as index variable.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>muddy2003_flow_tb <span class="ot">&lt;-</span> <span class="fu">as_tsibble</span>(streamflow_2003)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using `Date` as index variable.</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [9]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(feasts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'feasts' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: fabletools</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'fabletools' was built under R version 4.4.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'fabletools'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:yardstick':

    accuracy</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:infer':

    generate, hypothesize</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:parsnip':

    null_model</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>muddy2002_decomp <span class="ot">&lt;-</span> muddy2002_flow_tb <span class="sc">|&gt;</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">STL</span>(Flow <span class="sc">~</span> <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>()</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(muddy2002_flow_tb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 59
Columns: 2
$ Date &lt;date&gt; 2002-02-01, 2002-02-02, 2002-02-03, 2002-02-04, 2002-02-05, 2002…
$ Flow &lt;dbl&gt; 5.40, 5.40, 5.40, 5.40, 5.40, 5.40, 5.40, 5.40, 5.40, 5.40, 5.40,…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>muddy2003_decomp <span class="ot">&lt;-</span> muddy2003_flow_tb <span class="sc">|&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">STL</span>(Flow <span class="sc">~</span> <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Table 3. Muddy Creek (2002) Streamflow data correlated to dates in February and March.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [10]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>muddy2002_decomp <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(muddy2002_decomp)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>muddy2002_decomp_long <span class="ot">&lt;-</span> muddy2002_decomp <span class="sc">|&gt;</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date, trend, season_week, remainder) <span class="sc">|&gt;</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(trend, season_week, remainder),</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"component"</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>muddy2002_trend <span class="ot">&lt;-</span> muddy2002_decomp_long <span class="sc">|&gt;</span> </span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(component <span class="sc">==</span> <span class="st">"trend"</span>)</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muddy2002_trend, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Muddy Creek Streamflow Over Time "</span>,</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Streamflow (cfs)"</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-10-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 2. Muddy Creek streamflow in cfs shown over the months of February 01 through April 01 2002.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [11]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SWE FOR EACH PIT SITE </span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>swe_tables <span class="ot">&lt;-</span> filtered_iop1 <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">swe =</span> <span class="fu">mean</span>(DNS_AVG, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">2.7</span>)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(swe_tables)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-184ad496{}.cl-1837ac72{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-183e34e8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-183e34fc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-183e77a0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183e77be{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183e77c8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183e77c9{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183e77dc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183e77dd{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-184ad496"><thead><tr style="overflow-wrap:break-word;"><th class="cl-183e77a0"><p class="cl-183e34e8"><span class="cl-1837ac72">PIT_NAME</span></p></th><th class="cl-183e77be"><p class="cl-183e34fc"><span class="cl-1837ac72">swe</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP01         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">804.6000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP02         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">792.2475</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP03         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">771.1500</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP04         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">802.9565</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP05         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">871.7932</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP06         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">871.5441</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP07         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">810.7500</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP08         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">815.4000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP09         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">765.1800</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP10         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">851.9786</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP11         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">810.8308</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP12         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">818.4068</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP13         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">878.4947</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP14         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">826.5971</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77c8"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP15         </span></p></td><td class="cl-183e77c9"><p class="cl-183e34fc"><span class="cl-1837ac72">859.7812</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183e77dc"><p class="cl-183e34e8"><span class="cl-1837ac72">RBSP16         </span></p></td><td class="cl-183e77dd"><p class="cl-183e34fc"><span class="cl-1837ac72">967.5237</span></p></td></tr></tbody></table></div>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>swe_iop1 <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2002-02-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-02-24"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Table 2. Snow Water Equivalent (SWE) values for each pit site within the RBSP Observation Period.</p>
<p>While looking at SWE values for IOP one, we see that the values vary greatly. There is a range of 196.3737 kg/m^2 between the minimum value an maximum value. This range is about double the size of IOP 3. Most values stay consistently around 800-850, kg/m^2.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [12]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SWE FOR EACH PIT SITE </span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>swe_tables3 <span class="ot">&lt;-</span> filtered_iop3 <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PIT_NAME) <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">swe =</span> <span class="fu">mean</span>(DNS_AVG, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="fl">2.88</span>)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(swe_tables3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-18794eb6{}.cl-18658f98{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-186b63b4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-186b63d2{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-186b86aa{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-186b86b4{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-186b86be{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-186b86f0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-186b86fa{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-186b86fb{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-18794eb6"><thead><tr style="overflow-wrap:break-word;"><th class="cl-186b86aa"><p class="cl-186b63b4"><span class="cl-18658f98">PIT_NAME</span></p></th><th class="cl-186b86b4"><p class="cl-186b63d2"><span class="cl-18658f98">swe</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-186b86be"><p class="cl-186b63b4"><span class="cl-18658f98">RBSP05         </span></p></td><td class="cl-186b86f0"><p class="cl-186b63d2"><span class="cl-18658f98">745.9714</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-186b86be"><p class="cl-186b63b4"><span class="cl-18658f98">RBSP09         </span></p></td><td class="cl-186b86f0"><p class="cl-186b63d2"><span class="cl-18658f98">701.7231</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-186b86fa"><p class="cl-186b63b4"><span class="cl-18658f98">RBSP16         </span></p></td><td class="cl-186b86fb"><p class="cl-186b63d2"><span class="cl-18658f98">806.7840</span></p></td></tr></tbody></table></div>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>swe_iop2 <span class="ot">&lt;-</span> swe_tables3 <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2002-03-17"</span>), <span class="fu">as.Date</span>(<span class="st">"2002-03-25"</span>), <span class="at">length.out =</span> <span class="fu">n</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Table 3. Snow Water Equivalent values for IOP 3 taken in March 2003.</p>
<p>The SWE chart for IOP 3 includes much less values, although we can still gather information. The range of this data is 105.0609 kg/ m^2. This is about half as large of a range as IOP 1.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [13]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(swe_iop1, swe_iop3, <span class="at">by =</span> <span class="st">"Date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(muddy2002_trend, <span class="at">by =</span> <span class="st">"Date"</span>)</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(joined_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-18c08678{}.cl-18accaa2{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-18b552d0{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-18b552e4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-18b588fe{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18b58912{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18b5891c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18b58926{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18b58927{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-18b58930{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-18c08678"><thead><tr style="overflow-wrap:break-word;"><th class="cl-18b588fe"><p class="cl-18b552d0"><span class="cl-18accaa2">PIT_NAME.x</span></p></th><th class="cl-18b58912"><p class="cl-18b552e4"><span class="cl-18accaa2">swe.x</span></p></th><th class="cl-18b58912"><p class="cl-18b552e4"><span class="cl-18accaa2">Date</span></p></th><th class="cl-18b588fe"><p class="cl-18b552d0"><span class="cl-18accaa2">PIT_NAME.y</span></p></th><th class="cl-18b58912"><p class="cl-18b552e4"><span class="cl-18accaa2">swe.y</span></p></th><th class="cl-18b588fe"><p class="cl-18b552d0"><span class="cl-18accaa2">component</span></p></th><th class="cl-18b58912"><p class="cl-18b552e4"><span class="cl-18accaa2">value</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP01         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">804.6000</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-17</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">trend</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">7.155913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP02         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">792.2475</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-17</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP03         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">771.1500</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-17</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP04         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">802.9565</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-18</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP05         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">871.7932</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-18</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP06         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">871.5441</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-19</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP07         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">810.7500</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-19</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP08         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">815.4000</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-20</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP09         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">765.1800</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-20</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP10         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">851.9786</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-21</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP11         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">810.8308</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-21</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP12         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">818.4068</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-22</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP13         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">878.4947</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-22</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP14         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">826.5971</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-23</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP15         </span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">859.7812</span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-23</span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b5891c"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58926"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-18b58927"><p class="cl-18b552d0"><span class="cl-18accaa2">RBSP16         </span></p></td><td class="cl-18b58930"><p class="cl-18b552e4"><span class="cl-18accaa2">967.5237</span></p></td><td class="cl-18b58930"><p class="cl-18b552e4"><span class="cl-18accaa2">2002-02-24</span></p></td><td class="cl-18b58927"><p class="cl-18b552d0"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58930"><p class="cl-18b552e4"><span class="cl-18accaa2"></span></p></td><td class="cl-18b58927"><p class="cl-18b552d0"><span class="cl-18accaa2">trend</span></p></td><td class="cl-18b58930"><p class="cl-18b552e4"><span class="cl-18accaa2">8.329223</span></p></td></tr></tbody></table></div>
</div>
</div></div>
<p>Table 4. RBSP Pit site SWE data linked to streamflow trend values in cfs.</p>
<p>Snow Water Equivalent data joined to the streamflow trend. This flextable does not tell us a lot about the data, but tells helps to visualizes dates to data, noting the 2002 data points.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [14]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>swe_tables <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PIT_NAME =</span> <span class="fu">sub</span>(<span class="st">"RBSP"</span>, <span class="st">""</span>, PIT_NAME))</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(swe_tables, <span class="fu">aes</span>(<span class="at">x =</span> PIT_NAME, <span class="at">y =</span> swe)) <span class="sc">+</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"darkblue"</span>) <span class="sc">+</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">500</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">100</span>),          </span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">500</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">25</span>)      </span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average SWE by Pit Site"</span>,</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Pit Name"</span>,</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"SWE (mm)"</span></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">600</span>, <span class="cn">NA</span>)) <span class="sc">+</span>  </span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [15]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>swe_tables3 <span class="ot">&lt;-</span> swe_tables3 <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PIT_NAME =</span> <span class="fu">sub</span>(<span class="st">"RBSP"</span>, <span class="st">""</span>, PIT_NAME))</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(swe_tables3, <span class="fu">aes</span>(<span class="at">x =</span> PIT_NAME, <span class="at">y =</span> swe)) <span class="sc">+</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"darkblue"</span>) <span class="sc">+</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">500</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">100</span>),          </span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">500</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">25</span>)      </span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average SWE by Pit Site"</span>,</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Pit Name"</span>,</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"SWE (mm)"</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">600</span>, <span class="cn">NA</span>)) <span class="sc">+</span>  </span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [16]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'patchwork' was built under R version 4.4.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>plot1 <span class="sc">+</span> plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-16-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="index_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 3. Average Snow water equivalent values in milimeters plotted from RBSP observation period 1 and 2 across 16 pit sites.</p>
<p>This section analyzes the snow water equivalent amongst space and time within the Rabbit Ears - Buffalo Pass area. Among IOP 1 and IOP 3 there are observable differences. In IOP 1 the values are higher than IOP 3 when looking at SWE during the same months of the year. In IOP 1 values range from ~ 775mm to ~ 975mm, noting around a 200mm variation within the observation period. In IOP 3, there are less data to compare from, but the range of values is much lower from ~ 700mm to ~ 800 mm.</p>
<p>Linear Regression between SWE and Streamflow at Muddy Creek</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [17]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># IOP1</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>swe_iop1<span class="sc">$</span>Date <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
2002-02-17 2002-02-18 2002-02-19 2002-02-20 2002-02-21 2002-02-22 2002-02-23 
         3          2          2          2          2          2          2 
2002-02-24 
         1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>swe_iop1 <span class="ot">&lt;-</span> swe_tables <span class="sc">%&gt;%</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">rep</span>(<span class="fu">as.Date</span>(<span class="st">"2002-02-17"</span>), <span class="dv">16</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">%&gt;%</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">meanswe =</span> <span class="fu">mean</span>(swe, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>IOP3</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [18]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>swe_iop3<span class="sc">$</span>Date <span class="sc">%&gt;%</span> <span class="fu">table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
2002-03-17 2002-03-21 2002-03-25 
         1          1          1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>swe_iop3 <span class="ot">&lt;-</span> swe_tables3 <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">rep</span>(<span class="fu">as.Date</span>(<span class="st">"2002-03-17"</span>), <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">%&gt;%</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">meanswe =</span> <span class="fu">mean</span>(swe, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [19]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>swe_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(swe_iop1, swe_iop3)</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>joined_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(swe_all, muddy2002_trend, <span class="at">by =</span> <span class="st">"Date"</span>)</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a><span class="fu">flextable</span>(joined_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="tabwid"><style>.cl-199f3972{}.cl-1960abc6{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-19677992{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-196779a6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1967a0e8{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1967a0f2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1967a0f3{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1967a0fc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1967a0fd{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1967a106{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-199f3972"><thead><tr style="overflow-wrap:break-word;"><th class="cl-1967a0e8"><p class="cl-19677992"><span class="cl-1960abc6">Date</span></p></th><th class="cl-1967a0e8"><p class="cl-19677992"><span class="cl-1960abc6">meanswe</span></p></th><th class="cl-1967a0f2"><p class="cl-196779a6"><span class="cl-1960abc6">component</span></p></th><th class="cl-1967a0e8"><p class="cl-19677992"><span class="cl-1960abc6">value</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1967a0f3"><p class="cl-19677992"><span class="cl-1960abc6">2002-02-17</span></p></td><td class="cl-1967a0f3"><p class="cl-19677992"><span class="cl-1960abc6">832.4521</span></p></td><td class="cl-1967a0fc"><p class="cl-196779a6"><span class="cl-1960abc6">trend</span></p></td><td class="cl-1967a0f3"><p class="cl-19677992"><span class="cl-1960abc6">7.155913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1967a0fd"><p class="cl-19677992"><span class="cl-1960abc6">2002-03-17</span></p></td><td class="cl-1967a0fd"><p class="cl-19677992"><span class="cl-1960abc6">751.4928</span></p></td><td class="cl-1967a106"><p class="cl-196779a6"><span class="cl-1960abc6">trend</span></p></td><td class="cl-1967a0fd"><p class="cl-19677992"><span class="cl-1960abc6">10.814458</span></p></td></tr></tbody></table></div>
</div>
</div></div>
<p>Table 5. SWE and trend value data across the same dates.</p>
<p>This table shows the data joined by date. Average SWE values were taken from each IOP to give a comprehensive overview of the dataset, even though the range is large these do accurately represnt the majority of the dataset. We can notice an inverse relationship between SWE (decreasing) and stremflow values (increasing)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [20]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(joined_data, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> meanswe)) <span class="sc">+</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Linear Regression of meanswe ~ value"</span>,</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"value"</span>,</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"meanswe"</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-20-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="index_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 4. Linear regression model of joined meanswe and value data sets. Correlation shown as value increases, swe decreases, highlighting the relationship between the two variables.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [21]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(meanswe <span class="sc">~</span> Date, <span class="at">data =</span> joined_data)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = meanswe ~ Date, data = joined_data)

Coefficients:
(Intercept)         Date  
  34763.074       -2.891  </code></pre>
</div>
</div></div>
<p>Table 6. This shows us our intercept and value for the linear model we created for SWE and streamflow value joined.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [22]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(meanswe <span class="sc">~</span> Date, <span class="at">data =</span> joined_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [23]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(joined_data, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> meanswe)) <span class="sc">+</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trend of Meanswe Over Time"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [24]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(joined_data, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Streamflow trend"</span>, <span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Muddydecomptrend value"</span>) <span class="sc">+</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [25]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="sc">+</span> mod2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-25-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="index_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 5a. Plotted the average SWE for IOP 1 and IOP 3 against time, showing the decrease in swe from feb 2002 to march 2003. Figure 5b. This model shows us the relationship between streamflow value and date, highlighting the inverse relationship between temporally between SWE and streamflow trend.</p>
<p>(re Figure 5 shows us the inverse relationship between streamflow values and SWE. As time increases from February to March, we can really see how these values have an inverse realtionship. These values are also showing almost perfectly correlated because of the nature that there is only two data points in the plots.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [26]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Split Data</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(muddy2002_trend, <span class="at">prop =</span> <span class="fl">0.8</span>, <span class="at">strata =</span> value)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The number of observations in each quantile is below the recommended threshold
of 20.
• Stratification will use 2 breaks instead.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">training</span>(split)  </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>test  <span class="ot">&lt;-</span> <span class="fu">testing</span>(split)  </span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(train, <span class="at">v =</span> <span class="dv">10</span>)</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Make Recipe</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>rec <span class="ot">=</span> <span class="fu">recipe</span>(value <span class="sc">~</span> . , <span class="at">data =</span> train) <span class="sc">|&gt;</span> </span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_rm</span>(component) <span class="sc">|&gt;</span>  </span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_nominal</span>()) <span class="sc">|&gt;</span>  </span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_scale</span>(<span class="fu">all_numeric_predictors</span>()) <span class="sc">|&gt;</span>  </span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_center</span>(<span class="fu">all_numeric_predictors</span>()) </span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Model </span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>lm_mod <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">|&gt;</span> </span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"lm"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"regression"</span>)</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">workflow</span>() <span class="sc">|&gt;</span> </span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(rec) <span class="sc">|&gt;</span> </span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(lm_mod) <span class="sc">|&gt;</span> </span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(<span class="at">data =</span> train)</span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">augment</span>(fit, <span class="at">new_data =</span> test) <span class="sc">|&gt;</span> </span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff =</span> <span class="fu">abs</span>(value <span class="sc">-</span> .pred)) </span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a><span class="fu">metrics</span>(predictions, <span class="at">truth =</span> value, <span class="at">estimate =</span> .pred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 rmse    standard       1.85 
2 rsq     standard       0.866
3 mae     standard       1.49 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(predictions, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> .pred)) <span class="sc">+</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>() <span class="sc">+</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Linear Stream Flow Model"</span>, </span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Actual flow rate"</span>, </span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Predicted flow rate"</span>) <span class="sc">+</span> </span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-26-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="index_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 6. Linear regression Model flow for streamflow rate actual vs predicted. Table 7. Standard values for rmse, rsq, and mae for streamflow values.<br>
Demonstrated in table 7, the linear regression model to predict streamflow generated a root mean squared error of roughly 2.258, R squared of roughly .791, and a mean average error of roughly 1.9. In figure 6, the visualized relationship between predicted and actual stream flow rate demonstrates some level of variance in data, but overall a generalized linear relationship. ###More prediction models</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [27]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># How many SWE dates are available?</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(swe_per_date)</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># How many streamflow dates are available?</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a><span class="co">#nrow(streamflow_2002)</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a><span class="co"># How many match?</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a><span class="co">#length(intersect(streamflow_2002$Date, swe_per_date$Date))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>There are only 5 points that these models are being trained on. This is why we can not run any models that require folds such as random forest or boosted trees. To maintain with the data we have, we will find and use simple models. We chose Linear Regression, Polynomial Regression,and Spline Regression</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [28]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fixing the data</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the literally useless first row</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>iop1raw <span class="ot">&lt;-</span> iop1[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>iop3raw <span class="ot">&lt;-</span> iop3[<span class="sc">-</span><span class="dv">1</span>, ]</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert columns to character to prevent errors</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>iop1_raw <span class="ot">&lt;-</span> <span class="fu">mutate_all</span>(iop1, as.character)</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>iop3_raw <span class="ot">&lt;-</span> <span class="fu">mutate_all</span>(iop3, as.character)</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine and clean</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>snow_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(iop1_raw, iop3_raw) <span class="sc">%&gt;%</span></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">DNS_AVG   =</span> <span class="fu">as.numeric</span>(DNS_AVG),</span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOP       =</span> <span class="fu">as.numeric</span>(TOP),</span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">BOT       =</span> <span class="fu">as.numeric</span>(BOT),</span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">DATE      =</span> <span class="fu">ymd</span>(DATE),</span>
<span id="cb104-17"><a href="#cb104-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">thickness =</span> TOP <span class="sc">-</span> BOT,</span>
<span id="cb104-18"><a href="#cb104-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">SWE_layer =</span> thickness <span class="sc">*</span> DNS_AVG</span>
<span id="cb104-19"><a href="#cb104-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There were 4 warnings in `mutate()`.
The first warning was:
ℹ In argument: `DNS_AVG = as.numeric(DNS_AVG)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merging SWE and streamflow</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>model_data <span class="ot">&lt;-</span> snow_data <span class="sc">%&gt;%</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(DATE) <span class="sc">%&gt;%</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">SWE =</span> <span class="fu">sum</span>(SWE_layer, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Date =</span> DATE) <span class="sc">%&gt;%</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(streamflow_2002, <span class="at">by =</span> <span class="st">"Date"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SWE_m =</span> SWE <span class="sc">/</span> <span class="dv">1000</span>)</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="co"># dropping any nas I forgot</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>model_data2 <span class="ot">&lt;-</span> model_data <span class="sc">%&gt;%</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Flow, SWE_m) <span class="sc">%&gt;%</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(workflowsets)</span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Build recipe</span></span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>recipe <span class="ot">&lt;-</span> <span class="fu">recipe</span>(Flow <span class="sc">~</span> SWE_m, <span class="at">data =</span> model_data2)</span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a>recipes <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">linear =</span> recipe,</span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">poly   =</span> recipe <span class="sc">%&gt;%</span> <span class="fu">step_poly</span>(SWE_m, <span class="at">degree =</span> <span class="dv">2</span>),</span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">spline =</span> recipe <span class="sc">%&gt;%</span> <span class="fu">step_bs</span>(SWE_m, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">degree =</span> <span class="dv">3</span>))</span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Define model and workflows</span></span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a>model_spec <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">%&gt;%</span> <span class="fu">set_engine</span>(<span class="st">"lm"</span>)</span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a>wf_list <span class="ot">&lt;-</span> <span class="fu">map</span>(recipes, <span class="sc">~</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> <span class="fu">add_recipe</span>(.x) <span class="sc">%&gt;%</span> <span class="fu">add_model</span>(model_spec))</span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-29"><a href="#cb106-29" aria-hidden="true" tabindex="-1"></a>wf_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb106-30"><a href="#cb106-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">wflow_id =</span> <span class="fu">names</span>(wf_list),</span>
<span id="cb106-31"><a href="#cb106-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">workflow =</span> wf_list</span>
<span id="cb106-32"><a href="#cb106-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb106-33"><a href="#cb106-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-34"><a href="#cb106-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit models to predict</span></span>
<span id="cb106-35"><a href="#cb106-35" aria-hidden="true" tabindex="-1"></a>wf_fits <span class="ot">&lt;-</span> wf_tbl <span class="sc">%&gt;%</span></span>
<span id="cb106-36"><a href="#cb106-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb106-37"><a href="#cb106-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">fitted =</span> <span class="fu">map</span>(workflow, <span class="sc">~</span> <span class="fu">fit</span>(.x, <span class="at">data =</span> model_data2)),</span>
<span id="cb106-38"><a href="#cb106-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">preds  =</span> <span class="fu">map</span>(fitted, <span class="sc">~</span> <span class="fu">augment</span>(.x, <span class="at">new_data =</span> model_data2))</span>
<span id="cb106-39"><a href="#cb106-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-40"><a href="#cb106-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-41"><a href="#cb106-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb106-42"><a href="#cb106-42" aria-hidden="true" tabindex="-1"></a>all_preds <span class="ot">&lt;-</span> wf_fits <span class="sc">%&gt;%</span></span>
<span id="cb106-43"><a href="#cb106-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(wflow_id, preds) <span class="sc">%&gt;%</span></span>
<span id="cb106-44"><a href="#cb106-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(preds)</span>
<span id="cb106-45"><a href="#cb106-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-46"><a href="#cb106-46" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_preds, <span class="fu">aes</span>(<span class="at">x =</span> SWE_m, <span class="at">y =</span> .pred, <span class="at">color =</span> wflow_id)) <span class="sc">+</span></span>
<span id="cb106-47"><a href="#cb106-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb106-48"><a href="#cb106-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> Flow), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb106-49"><a href="#cb106-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Model Predictions vs Actual Flow"</span>,</span>
<span id="cb106-50"><a href="#cb106-50" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"SWE (meters)"</span>, <span class="at">y =</span> <span class="st">"Flow (cfs)"</span>, <span class="at">color =</span> <span class="st">"Model"</span>) <span class="sc">+</span></span>
<span id="cb106-51"><a href="#cb106-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">9</span>)) <span class="sc">+</span></span>
<span id="cb106-52"><a href="#cb106-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-28-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="index_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 7. This graph shows fitted values from three regression types: linear, polynomial (2nd degree) and spline (basis spline), plotted against observed streamflow. The black dots show the observed flow, and colored lines show predictions by the model. The spline and polynomial models better visually approximate observed values than the linear model.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [29]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Find RMSE and R²</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>wf_scores <span class="ot">&lt;-</span> wf_fits <span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">rmse =</span> <span class="fu">map_dbl</span>(preds, <span class="sc">~</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((.x<span class="sc">$</span>.pred <span class="sc">-</span> .x<span class="sc">$</span>Flow)<span class="sc">^</span><span class="dv">2</span>))),</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">rsq  =</span> <span class="fu">map_dbl</span>(preds, <span class="sc">~</span> <span class="fu">cor</span>(.x<span class="sc">$</span>.pred, .x<span class="sc">$</span>Flow)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(wflow_id, rmse, rsq)</span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(wf_scores)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  wflow_id  rmse    rsq
  &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;
1 linear   0.492 0.0160
2 poly     0.227 0.791 
3 spline   0.223 0.799 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Visualizing the accuracy of the plots</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>wf_scores_long <span class="ot">&lt;-</span> wf_scores <span class="sc">%&gt;%</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(rmse, rsq), <span class="at">names_to =</span> <span class="st">"metric"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>)</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wf_scores_long, <span class="fu">aes</span>(<span class="at">x =</span> wflow_id, <span class="at">y =</span> value, <span class="at">fill =</span> metric)) <span class="sc">+</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Model Performance: RMSE and R²"</span>,</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Model"</span>, <span class="at">y =</span> <span class="st">"Value"</span>, <span class="at">fill =</span> <span class="st">"Metric"</span>) <span class="sc">+</span></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="index_files/figure-html/unnamed-chunk-29-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<p>Figure 8. With our 5 data points, Spline is very slightly the most accurate and linear is dramatically the least.</p>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>Our results show an inverse relationship between streamflow values and snow water equivalent (SWE). SWE and snow depth are directly related to snow density and variability (Bormann et al., 2013). After analyzing the NASA Cold Land Processes Experiment data, we noticed trends in the SWE and bulk density amongst the two observation periods in the Rabbit Ears – Buffalo Pass area in northern Colorado. In the first and third observation periods in late February 2002/3, there were similar values calculated for SWE, although we noticed the decrease in the range of values for each IOP. These observed changes can be explained by seasonal variation in snowfall from late February to late March, when the data from IOP one and IOP two were collected. IOP four was included in the SWE analysis to show the similarities between IOP one and two in comparison to the large difference between IOP four.</p>
<p>We analyzed streamflow discharge at the Muddy Creek USGS gauge during the late winter to early spring melt season of 2002. Daily streamflow data were decomposed to isolate the long-term trend across February and March. As shown in Figure 1, streamflow remained relatively stable during early February (~5 cfs) but began to increase in late February and rose sharply at the end of March, reaching 25 cfs by March 31. We then compared snow water equivalent (SWE) across two CLPX Intensive Observation Periods (IOP1 and IOP3) in the Rabbit Ears–Buffalo Pass study area. SWE was calculated as the product of snow density and depth, averaged across pit sites.&nbsp; Figure 2 displays the SWE values by pit site. IOP1 (February 2002) showed generally higher SWE values, ranging from ~775 mm to 975 mm. In contrast, IOP3 (March 2003) SWE values were lower and ranged from ~700 mm to 800 mm. This indicates some difference between the two datasets, whether that was a decline in SWE between the two years, between the months, or between the diversity of pits measured.</p>
<p>These results could indicate a possible relation between the decline in SWE and the increase in streamflow, though more research is needed to conclude. A linear regression model, shown in Figure 6, also displays this trend between SWE and Streamflow. Additionally, we modeled the relationship between SWE and observed streamflow using three regression techniques: linear, polynomial (2nd degree), and spline (basis spline). All models were trained&nbsp;on the same dataset, and predictions were compared&nbsp;visually and statistically. As seen in Figure 8, both the spline and polynomial models captured the observed trend in streamflow more closely than the linear model. The linear regression underestimated the curvature between the observed data set (represented by the black dots), which lent to its inaccuracy.</p>
<p>To quantify model performance, we compared root mean square error (RMSE) and coefficient of determination (R²) for each model (Figure 4). The linear model had the highest RMSE and the lowest R², indicating a poor fit. Both thepolynomial and spline models reduced error and increased R², with the spline model performing best overall. These results also indicate that SWE could be a usefulpredictor of early-season streamflow at Muddy Creek, but the relationship is not strictly linear.</p>
<p>Despite the thoughtfulness of our methodology, we encountered several limitations. The SWE dataset contained a limited number of observations, which constrained model complexity and skewed the perceived accuracy of the predictive workflows. Our models did not account for other environmental variables that influence streamflow, such as precipitation, temperature, soil composition, topographic heterogeneity, or anthropogenic modifications. These omissions were due to constraints in both time and data availability. In spite of these issues, this approach allowed us to establish and quantify a testable relationship between SWE and streamflow using real-world environmental data and reproducible statistical tools.</p>
<p>We would need further steps to clean the data and look at future years. Right now, this dataset is very limited, and results are limited to a short time frame. This project can help to be a stepping stone for methods for future analysis of snow water equivalent within the NASA CLPX dataset, as well as at different USGS gauge sites.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>During the analysis of the NASA CLPX dataset and the Muddy Creek streamflow data, we observed a clear inverse relationship between SWE and streamflow values during the seasonal transition period. When the calculated SWE values decreased, the streamflow values increased, which is not what we expected to see in our hypothesis of the relationship. The differences in values in SWE for IOP 1 and IOP 3 highlight the seasonal variability of snowpack properties. Models further supported the potential for a relationship between variables, with the polynomial and spline regressions doing better than linear models. Additional aspects and mechanisms, such as temperature, precipitation, and snowpack, may also influence downstream behaviors. Research should be furthered by looking at different USGS gauges in Colorado, as well as the CLPX dataset should be assessed in different regions.</p>
</section>
<section id="literature-cited" class="level2">
<h2 class="anchored" data-anchor-id="literature-cited">Literature Cited:</h2>
<p>Anderton, S. P., White, S. M., &amp; Alvera, B. (2004). Evaluation of spatial variability in snow water equivalent for a high mountain catchment. Hydrological Processes, 18(3), 435–453. https://doi.org/10.1002/hyp.1319</p>
<p>Bormann, K. J., Westra, S., Evans, J. P., &amp; McCabe, M. F. (2013). Spatial and temporal variability in seasonal snow density. Journal of Hydrology, 484, 63–73. https://doi.org/10.1016/j.jhydrol.2013.01.032</p>
<p>Elder, K., Cline, D., Liston, G. E., &amp; Armstrong, R. (2009). NASA Cold Land Processes Experiment (CLPX 2002/03): Field Measurements of Snowpack Properties and Soil Moisture. https://doi.org/10.1175/2008JHM877.1</p>
<p>Hosaka, M., Nohara, D., &amp; Kitoh, A. (2005). Changes in snow cover and snow water equivalent due to global warming simulated by a 20km-mesh global atmospheric model. Sola, 1, 93-96. https://doi.org/10.2151/sola.2005-025</p>
<p>Park, S.-Y., Moon, H.-T., Kim, J.-S., &amp; Lee, J.-H. (2025). Assessing the impact of human-induced and climate change-driven streamflow alterations on freshwater ecosystems. Ecohydrology &amp; Hydrobiology, 25(1), 1–9. https://doi.org/10.1016/j.ecohyd.2023.09.003</p>
<p>US Department of Agriculture. (n.d.). Water supply forecasting. Natural Resources Conservation Service. https://www.nrcs.usda.gov/programs-initiatives/sswsf-snow-survey-and-water-supply-forecasting-program/water-supply#:~:text=A%20complex%20network%20of%20dams,well%20as%20agricultural%20planting%20decisions.</p>
<p>Sturm, M., Holmgren, J. (1998). Differences in compaction behaviour of three climate classes of snow. Annals of Glaciology, 26, 125-130. https://doi.org/10.3189/1998AoG26-1-125-130</p>
<p>Sturm, M., Taras, B., Liston, G. E., Derksen, C., Jonas, T., &amp; Lea, J. (2010). Estimating snow water equivalent using snow depth data and climate classes. Journal of Hydrometeorology, 11(6), 1380-1394. https://doi.org/10.1175/2010JHM1202.1</p>
<p>Svoma, B. M. (2011). Winter Climatic Controls on Spring Snowpack Density in the Western United States. Arctic, Antarctic, and Alpine Research, 43(1), 118–126. https://doi.org/10.1657/1938-4246-43.1.118</p>
<p>CLPX data citation</p>
<p>Elder, K., Cline, D., Liston, G. E., &amp; Armstrong, R. (2009). NASA Cold Land Processes Experiment (CLPX 2002/03): Field Measurements of Snowpack Properties and Soil Moisture. https://doi.org/10.1175/2008JHM877.1</p>
</section>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>  </div> <!-- /content -->  <script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","selector":".lightbox","openEffect":"zoom","loop":false});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script> 
  
</body></html>